<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LiteSQL: LiteSQL - C++ Object-Relational Persistence Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteSQL
   &#160;<span id="projectnumber">0.3.17</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LiteSQL - C++ Object-Relational Persistence Framework </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>LiteSQL is a C++ library that integrates C++ objects tightly to relational database and thus provides an object persistence layer. LiteSQL supports SQLite3, PostgreSQL and MySQL as backends. LiteSQL creates tables, indexes and sequences to database and upgrades schema when needed.</p>
<p>In addition to object persistence, LiteSQL provides object relations which can be used to model any kind of C++ data structures. Objects can be selected, filtered and ordered using template- and class-based API with type checking at compile time.</p>
<h1><a class="anchor" id="features"></a>
Features</h1>
<ul>
<li>SQLite3, PostgreSQL and MySQL - backend support</li>
<li>object persistence layer with relation support</li>
<li>automatic database schema creation and upgrading</li>
<li>create complex SQL queries using compile time checked class API; minimizes need to write SQL query strings</li>
</ul>
<h1><a class="anchor" id="status"></a>
Status</h1>
<ul>
<li>new features are being developed</li>
<li>no Windows support yet</li>
</ul>
<h1><a class="anchor" id="requirements"></a>
Requirements</h1>
<ul>
<li>fairly recent C++ compiler</li>
<li>client library and header files for at least one backend: libsqlite3, libmysqlclient or libpq</li>
</ul>
<h2><a class="anchor" id="optionalreqs"></a>
Optional</h2>
<ul>
<li>automake 1.9.6</li>
<li>autoconf 2.61</li>
<li>flexml 1.61 (to generate code generator ;)</li>
<li>doxygen 1.5.1</li>
<li>dpkg-buildpackage (to generate debian packages)</li>
</ul>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>This library is distributed under the terms of <a class="el" href="bsdlicense.html">BSD-License</a></p>
<h1><a class="anchor" id="helpneeded"></a>
Help Needed</h1>
<p>All feedback concerning the library is welcome. If you want to advance the development of the library, you may contribute by:</p><ul>
<li>using the library in your projects</li>
<li>submitting bug reports or feature requests</li>
<li>implementing new a feature (ask first if somebody is already working on it)</li>
<li>testing if the library compiles and runs on your system</li>
<li>making the library compile and run on your system</li>
<li>writing usage examples </li>
</ul>
<h1><a class="anchor" id="support"></a>
Support</h1>
<p>Subscribe to <a href="http://lists.sourceforge.net/lists/listinfo/litesql-users" class="el">litesql-users mailing list</a> and describe your problems or ideas there.</p>
<h1><a class="anchor" id="manual"></a>
Manual</h1>
<h2><a class="anchor" id="toc"></a>
Index</h2>
<ul>
<li><a class="el" href="implementation.html">Implementation Details</a></li>
<li><a class="el" href="changes.html">Changes</a></li>
<li><a class="el" href="contributors.html">Contributors</a></li>
<li><a class="el" href="future.html">The Future</a></li>
<li><a class="el" href="usage_defining_database.html">Defining Database</a></li>
<li><a class="el" href="usage_database_create_drop.html">Creating and Dropping Database</a></li>
<li><a class="el" href="usage_update_delete_persistents.html">Storing and Deleting Persistents</a></li>
<li><a class="el" href="usage_selecting_persistents.html">Selecting Persistents and Expr-API</a></li>
<li><a class="el" href="usage_using_relations.html">Using Relations</a></li>
<li><a class="el" href="usage_upcasting.html">Upcasting and Virtual Methods</a></li>
<li><a class="el" href="usage_cursor.html">Using Cursor</a></li>
<li><a class="el" href="usage_using_database.html">Database API: raw queries</a></li>
<li><a class="el" href="mysql_notes.html">MySQL specific notes</a></li>
<li><a class="el" href="cost.html">Cost of Using LiteSQL</a></li>
</ul>
<h2><a class="anchor" id="exlinks"></a>
External Links</h2>
<ul>
<li><a href="http://sourceforge.net/project/showfiles.php?group_id=113304" class="el">Download</a></li>
<li><a href="http://sourceforge.net/tracker/?group_id=113304&amp;atid=664757" class="el">Bug Tracker</a></li>
<li><a href="http://sourceforge.net/forum/?group_id=113304" class="el">Forum</a></li>
<li><a href="http://sourceforge.net/projects/litesql" class="el">Project Page</a></li>
</ul>
<h1><a class="anchor" id="quickstart"></a>
Quick Start</h1>
<h2><a class="anchor" id="quickstart1"></a>
Step 1: Write XML-file which defines objects, fields, methods and relations in database.</h2>
<p>Simple example database definition file exampledatabase.xml: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">database</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;litesql.dtd&quot;</span>&gt; </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&lt;<span class="keywordtype">database</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ExampleDatabase&quot;</span> <span class="keyword">namespace</span>=<span class="stringliteral">&quot;example&quot;</span>&gt;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  &lt;<span class="keywordtype">include</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;auth.xml&quot;</span> /&gt;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Person&quot;</span>&gt;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span> <span class="keyword">length</span>=<span class="stringliteral">&quot;256&quot;</span>/&gt;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;age&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;integer&quot;</span> <span class="keyword">default</span>=<span class="stringliteral">&quot;15&quot;</span>/&gt;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;image&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;blob&quot;</span>/&gt;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;aDoubleValue&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>/&gt;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;      &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;sex&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;integer&quot;</span>&gt;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;            &lt;<span class="keywordtype">value</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Male&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;            &lt;<span class="keywordtype">value</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Female&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        &lt;/<span class="keywordtype">field</span>&gt;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;sayHello&quot;</span>/&gt;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      &lt;<span class="keywordtype">index</span> <span class="keyword">unique</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        &lt;<span class="keywordtype">indexfield</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span>/&gt;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        &lt;<span class="keywordtype">indexfield</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;age&quot;</span>/&gt;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      &lt;/<span class="keywordtype">index</span>&gt;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    &lt;/<span class="keywordtype">object</span>&gt;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Mother&quot;</span> <span class="keyword">unidir</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;many&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;mother&quot;</span>/&gt;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Father&quot;</span> <span class="keyword">unidir</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;many&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;father&quot;</span>/&gt;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Siblings&quot;</span>&gt;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;siblings&quot;</span>/&gt;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span>/&gt;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Children&quot;</span> <span class="keyword">unidir</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;children&quot;</span>/&gt;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span>/&gt;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Role&quot;</span>/&gt;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Student&quot;</span> <span class="keyword">inherits</span>=<span class="stringliteral">&quot;Role&quot;</span>/&gt;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Employee&quot;</span> <span class="keyword">inherits</span>=<span class="stringliteral">&quot;Role&quot;</span>/&gt;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    &lt;<span class="keywordtype">relation</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;Roles&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;RoleRelation&quot;</span>&gt;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Person&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;roles&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Role&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;person&quot;</span>/&gt;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;School&quot;</span>&gt;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        &lt;<span class="keywordtype">field</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span> <span class="keyword">length</span>=<span class="stringliteral">&quot;512&quot;</span>/&gt;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    &lt;/<span class="keywordtype">object</span>&gt;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    &lt;<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Student&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;school&quot;</span>/&gt;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;School&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;students&quot;</span> <span class="keyword">limit</span>=<span class="stringliteral">&quot;one&quot;</span>/&gt;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        </div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Office&quot;</span>/&gt;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    &lt;<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Employee&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;office&quot;</span>/&gt;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        &lt;<span class="keywordtype">relate</span> <span class="keyword">object</span>=<span class="stringliteral">&quot;Office&quot;</span> <span class="keyword">handle</span>=<span class="stringliteral">&quot;employees&quot;</span>/&gt;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    &lt;/<span class="keywordtype">relation</span>&gt;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  &lt;<span class="keywordtype">object</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ThingWithMethods&quot;</span>&gt;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;sayHello&quot;</span>&gt;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      &lt;<span class="keywordtype">param</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;std::string&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;text&quot;</span> /&gt;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      &lt;<span class="keywordtype">param</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;int&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;repeat&quot;</span> /&gt;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    &lt;/<span class="keywordtype">method</span>&gt;  </div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  &lt;/<span class="keywordtype">object</span>&gt;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;&lt;/<span class="keywordtype">database</span>&gt;</div></div><!-- fragment --><p> Figure of database (generated with graphviz and litesql-gen): </p><div class="image">
<img src="exampledatabase.png" alt="exampledatabase.png"/>
</div>
<h2><a class="anchor" id="quickstart2"></a>
Step 2: Run Code Generator</h2>
<div class="fragment"><div class="line"><a class="code" href="namespacelitesql.html">litesql</a>-gen exampledatabase.xml</div></div><!-- fragment --><p> Files exampledatabase.cpp and exampledatabase.hpp are written.</p>
<h2><a class="anchor" id="quickstart3"></a>
Step 3: Write Application Code</h2>
<div class="fragment"><div class="line"><span class="comment">// include LiteSQL&#39;s header file and generated header file</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="litesql_8hpp.html">litesql.hpp</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;exampledatabase.hpp&quot;</span></div><div class="line"><span class="comment">// provide implementation for Person::sayHello</span></div><div class="line"><span class="keywordtype">void</span> example::Person::sayHello() {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hi! My name is &quot;</span> &lt;&lt; name </div><div class="line">        &lt;&lt; <span class="stringliteral">&quot; and I am &quot;</span> &lt;&lt; age &lt;&lt; <span class="stringliteral">&quot; years old.&quot;</span> &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> example::user::sayHello() {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hi! My name is &quot;</span> &lt;&lt; name &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> example::ThingWithMethods::sayHello(std::string text,<span class="keywordtype">int</span> repeat) {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hi! I want to say :&quot;</span> &lt;&lt; text &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// no name collisions expected</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacelitesql.html">litesql</a>;</div><div class="line"><span class="keyword">using namespace </span>example;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line">        <span class="comment">// using SQLite3 as backend</span></div><div class="line">        ExampleDatabase db(<span class="stringliteral">&quot;sqlite3&quot;</span>, <span class="stringliteral">&quot;database=example.db&quot;</span>);</div><div class="line">        <span class="comment">// create tables, sequences and indexes</span></div><div class="line">        db.verbose = <span class="keyword">true</span>;</div><div class="line">        </div><div class="line">        <span class="keywordflow">if</span> (db.needsUpgrade())</div><div class="line">        {</div><div class="line">          db.upgrade();</div><div class="line">        }</div><div class="line">        <span class="comment">// start transaction</span></div><div class="line">        db.begin();</div><div class="line"></div><div class="line">        <span class="comment">// create couple of Person-objects</span></div><div class="line">        Person jeff(db);</div><div class="line">        jeff.name = <span class="stringliteral">&quot;Jeff&quot;</span>;</div><div class="line">        jeff.sex = Person::Sex::Male;</div><div class="line">        jeff.age = 32;</div><div class="line">        jeff.aDoubleValue = 0.32;</div><div class="line">        <a class="code" href="classlitesql_1_1Blob.html">Blob</a> image_jeff(<span class="stringliteral">&quot;abc&quot;</span>,4);</div><div class="line">        jeff.image = image_jeff;</div><div class="line">        <span class="comment">// store Jeff to database</span></div><div class="line">        jeff.update();</div><div class="line">        Person jill(db);</div><div class="line">        jill.name = <span class="stringliteral">&quot;Jill&quot;</span>;</div><div class="line">        jill.sex = Person::Sex::Female;</div><div class="line">        jill.image = <a class="code" href="classlitesql_1_1Blob.html">Blob</a>(NULL);</div><div class="line">        jill.age = 33;</div><div class="line">        jill.update();</div><div class="line">        Person jack(db);</div><div class="line">        jack.name = <span class="stringliteral">&quot;Jack&quot;</span>;</div><div class="line">        jack.sex = Person::Sex::Male;</div><div class="line">        jack.update();</div><div class="line">        Person jess(db);</div><div class="line">        jess.name = <span class="stringliteral">&quot;Jess&quot;</span>;</div><div class="line">        jess.sex = Person::Sex::Female;</div><div class="line">        jess.update();</div><div class="line">        <span class="comment">// build up relationships between Persons </span></div><div class="line">        jeff.children().link(jack);</div><div class="line">        jill.children().link(jack);</div><div class="line">        jill.children().link(jess);</div><div class="line">        jack.father().link(jeff);</div><div class="line">        jack.mother().link(jill);</div><div class="line">        jess.mother().link(jill);</div><div class="line">        jack.siblings().link(jill);</div><div class="line">        <span class="comment">// roles (linking examples)</span></div><div class="line">        Office office(db);</div><div class="line">        office.update();</div><div class="line">        School school(db);</div><div class="line">        school.update();</div><div class="line"></div><div class="line">        Employee jeffRole(db);</div><div class="line">        jeffRole.update();</div><div class="line">        jeff.roles().link(jeffRole);</div><div class="line">        jeffRole.office().link(office);</div><div class="line"></div><div class="line">        Student jackRole(db), jessRole(db);</div><div class="line">        jackRole.update();</div><div class="line">        jessRole.update();</div><div class="line">        jack.roles().link(jackRole);</div><div class="line">        jess.roles().link(jessRole);</div><div class="line">        </div><div class="line">        jackRole.school().link(school);</div><div class="line">        jessRole.school().link(school);</div><div class="line">        </div><div class="line">        <span class="comment">// count Persons</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;There are &quot;</span> &lt;&lt; select&lt;Person&gt;(db).count() </div><div class="line">             &lt;&lt; <span class="stringliteral">&quot; persons.&quot;</span> &lt;&lt; endl;</div><div class="line">    </div><div class="line">        <span class="comment">// select all Persons and order them by age</span></div><div class="line">        vector&lt;Person&gt; family = select&lt;Person&gt;(db).orderBy(Person::Age).all();</div><div class="line">        <span class="comment">// show results</span></div><div class="line">        <span class="keywordflow">for</span> (vector&lt;Person&gt;::iterator i = family.begin(); i != family.end(); i++)</div><div class="line">            cout &lt;&lt; <a class="code" href="string_8hpp.html#a282092033f13233af2e492dfec0a37e5">toString</a>(*i) &lt;&lt; endl;</div><div class="line">             </div><div class="line">        <span class="comment">// select intersection of Jeff&#39;s and Jill&#39;s children and</span></div><div class="line">        <span class="comment">// iterate results with cursor</span></div><div class="line">        <a class="code" href="classlitesql_1_1Cursor.html">Cursor&lt;Person&gt;</a> cursor = <a class="code" href="operations_8hpp.html#a502bfaf653200e859682c08afc8e7e12">intersect</a>(jeff.children().get(), </div><div class="line">                                          jill.children().get()).cursor();</div><div class="line">        <span class="comment">// Jack should say hello</span></div><div class="line">        <span class="keywordflow">for</span> (;cursor.<a class="code" href="classlitesql_1_1Cursor.html#a0bffe58e7a8dcbb456c8783f0cc9ec16">rowsLeft</a>();cursor++) </div><div class="line">            (*cursor).sayHello();</div><div class="line">        </div><div class="line">        <span class="comment">// select a non-existing Person</span></div><div class="line">        <span class="keywordflow">try</span> {</div><div class="line">            select&lt;Person&gt;(db, Person::Id == 100).one();</div><div class="line">        } <span class="keywordflow">catch</span> (<a class="code" href="classlitesql_1_1NotFound.html">NotFound</a> e) {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;No Person with id 100&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        <span class="comment">// commit transaction</span></div><div class="line">        db.commit();</div><div class="line">        <span class="comment">// clean up </span></div><div class="line"><span class="comment">//        db.drop();</span></div><div class="line">    } <span class="keywordflow">catch</span> (<a class="code" href="classlitesql_1_1Except.html">Except</a> e) {</div><div class="line">        cerr &lt;&lt; e &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="quickstart4"></a>
Step 4: Compile, Link and Execute</h2>
<p>When executed, the example program will output following: </p><div class="fragment"><div class="line">There are 4 persons.</div><div class="line">-------------------------------------</div><div class="line">id_ = 4</div><div class="line">type_ = Person</div><div class="line">name_ = Jess</div><div class="line">age_ = 15</div><div class="line">sex_ = 1</div><div class="line">-------------------------------------</div><div class="line"></div><div class="line">-------------------------------------</div><div class="line">id_ = 3</div><div class="line">type_ = Person</div><div class="line">name_ = Jack</div><div class="line">age_ = 15</div><div class="line">sex_ = 0</div><div class="line">-------------------------------------</div><div class="line"></div><div class="line">-------------------------------------</div><div class="line">id_ = 1</div><div class="line">type_ = Person</div><div class="line">name_ = Jeff</div><div class="line">age_ = 32</div><div class="line">sex_ = 0</div><div class="line">-------------------------------------</div><div class="line"></div><div class="line">-------------------------------------</div><div class="line">id_ = 2</div><div class="line">type_ = Person</div><div class="line">name_ = Jill</div><div class="line">age_ = 33</div><div class="line">sex_ = 1</div><div class="line">-------------------------------------</div><div class="line"></div><div class="line">Hi! My name is Jack and I am 15 years old.</div><div class="line">No Person with <span class="keywordtype">id</span> 100</div></div><!-- fragment --><p> Following SQL queries are executed under the hood. Most of the queries are related to creating database schema and storing it to schema-table. </p><div class="fragment"><div class="line">CREATE TABLE schema (name TEXT, type TEXT, sql TEXT);</div><div class="line">DELETE FROM schema WHERE name=<span class="stringliteral">&#39;schema&#39;</span> and type=<span class="stringliteral">&#39;table&#39;</span></div><div class="line">INSERT INTO schema VALUES (<span class="stringliteral">&#39;schema&#39;</span>,<span class="stringliteral">&#39;table&#39;</span>,<span class="stringliteral">&#39;CREATE TABLE schema (name TEXT, </span></div><div class="line"><span class="stringliteral">type TEXT, sql TEXT);&#39;</span>)</div><div class="line">CREATE TABLE Person_ (id_ INTEGER PRIMARY KEY,type_ TEXT,name_ TEXT,age_ </div><div class="line">INTEGER,sex_ INTEGER)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_&#39;,&#39;table&#39;,&#39;CREATE TABLE Person_ (id_ INTEGER </div><div class="line">PRIMARY KEY,type_ TEXT,name_ TEXT,age_ INTEGER,sex_ INTEGER)&#39;)</div><div class="line">CREATE TABLE Role_ (id_ INTEGER PRIMARY KEY,type_ TEXT)</div><div class="line">DELETE FROM schema WHERE name=&#39;Role_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Role_&#39;,&#39;table&#39;,&#39;CREATE TABLE Role_ (id_ INTEGER </div><div class="line">PRIMARY KEY,type_ TEXT)&#39;)</div><div class="line">CREATE TABLE Student_ (id_ INTEGER PRIMARY KEY)</div><div class="line">DELETE FROM schema WHERE name=&#39;Student_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Student_&#39;,&#39;table&#39;,&#39;CREATE TABLE Student_ (id_ </div><div class="line">INTEGER PRIMARY KEY)&#39;)</div><div class="line">CREATE TABLE Employee_ (id_ INTEGER PRIMARY KEY)</div><div class="line">DELETE FROM schema WHERE name=&#39;Employee_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Employee_&#39;,&#39;table&#39;,&#39;CREATE TABLE Employee_ (id_ </div><div class="line">INTEGER PRIMARY KEY)&#39;)</div><div class="line">CREATE TABLE School_ (id_ INTEGER PRIMARY KEY,type_ TEXT,name_ TEXT)</div><div class="line">DELETE FROM schema WHERE name=&#39;School_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;School_&#39;,&#39;table&#39;,&#39;CREATE TABLE School_ (id_ INTEGER </div><div class="line">PRIMARY KEY,type_ TEXT,name_ TEXT)&#39;)</div><div class="line">CREATE TABLE Office_ (id_ INTEGER PRIMARY KEY,type_ TEXT)</div><div class="line">DELETE FROM schema WHERE name=&#39;Office_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Office_&#39;,&#39;table&#39;,&#39;CREATE TABLE Office_ (id_ INTEGER </div><div class="line">PRIMARY KEY,type_ TEXT)&#39;)</div><div class="line">CREATE TABLE Person_Person_Mother (Person1 INTEGER UNIQUE,Person2 INTEGER)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Mother&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Mother&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">Person_Person_Mother (Person1 INTEGER UNIQUE,Person2 INTEGER)&#39;)</div><div class="line">CREATE INDEX Person_Person_Mother_all_idx ON Person_Person_Mother </div><div class="line">(Person1,Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Mother_all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Mother_all_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Person_Person_Mother_all_idx ON Person_Person_Mother (Person1,Person2)&#39;)</div><div class="line">CREATE INDEX _cdc62ca2d05d04aad6154853e5eeff0a ON Person_Person_Mother (Person1)</div><div class="line">DELETE FROM schema WHERE name=&#39;_cdc62ca2d05d04aad6154853e5eeff0a&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_cdc62ca2d05d04aad6154853e5eeff0a&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _cdc62ca2d05d04aad6154853e5eeff0a ON Person_Person_Mother (Person1)&#39;)</div><div class="line">CREATE INDEX _19b685f391ae9a29eee2260423cb2e1c ON Person_Person_Mother (Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;_19b685f391ae9a29eee2260423cb2e1c&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_19b685f391ae9a29eee2260423cb2e1c&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _19b685f391ae9a29eee2260423cb2e1c ON Person_Person_Mother (Person2)&#39;)</div><div class="line">CREATE TABLE Person_Person_Father (Person1 INTEGER UNIQUE,Person2 INTEGER)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Father&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Father&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">Person_Person_Father (Person1 INTEGER UNIQUE,Person2 INTEGER)&#39;)</div><div class="line">CREATE INDEX Person_Person_Father_all_idx ON Person_Person_Father </div><div class="line">(Person1,Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Father_all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Father_all_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Person_Person_Father_all_idx ON Person_Person_Father (Person1,Person2)&#39;)</div><div class="line">CREATE INDEX _2bcb3ead0dfff9e1086a524c6e4ad2c3 ON Person_Person_Father (Person1)</div><div class="line">DELETE FROM schema WHERE name=&#39;_2bcb3ead0dfff9e1086a524c6e4ad2c3&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_2bcb3ead0dfff9e1086a524c6e4ad2c3&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _2bcb3ead0dfff9e1086a524c6e4ad2c3 ON Person_Person_Father (Person1)&#39;)</div><div class="line">CREATE INDEX _7f31aa2d807b53cd7d4a4afc2d82f213 ON Person_Person_Father (Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;_7f31aa2d807b53cd7d4a4afc2d82f213&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_7f31aa2d807b53cd7d4a4afc2d82f213&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _7f31aa2d807b53cd7d4a4afc2d82f213 ON Person_Person_Father (Person2)&#39;)</div><div class="line">CREATE TABLE Person_Person_Siblings (Person1 INTEGER,Person2 INTEGER)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Siblings&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Siblings&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">Person_Person_Siblings (Person1 INTEGER,Person2 INTEGER)&#39;)</div><div class="line">CREATE INDEX Person_Person_Siblings_all_idx ON Person_Person_Siblings </div><div class="line">(Person1,Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Siblings_all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Siblings_all_idx&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX Person_Person_Siblings_all_idx ON Person_Person_Siblings </div><div class="line">(Person1,Person2)&#39;)</div><div class="line">CREATE INDEX _40a9e165aea530226f7b3d11bbf6cc89 ON Person_Person_Siblings </div><div class="line">(Person1)</div><div class="line">DELETE FROM schema WHERE name=&#39;_40a9e165aea530226f7b3d11bbf6cc89&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_40a9e165aea530226f7b3d11bbf6cc89&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _40a9e165aea530226f7b3d11bbf6cc89 ON Person_Person_Siblings (Person1)&#39;)</div><div class="line">CREATE INDEX _d18823db577af84f812fec0813507d80 ON Person_Person_Siblings </div><div class="line">(Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;_d18823db577af84f812fec0813507d80&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_d18823db577af84f812fec0813507d80&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _d18823db577af84f812fec0813507d80 ON Person_Person_Siblings (Person2)&#39;)</div><div class="line">CREATE TABLE Person_Person_Children (Person1 INTEGER,Person2 INTEGER)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Children&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Children&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">Person_Person_Children (Person1 INTEGER,Person2 INTEGER)&#39;)</div><div class="line">CREATE INDEX Person_Person_Children_all_idx ON Person_Person_Children </div><div class="line">(Person1,Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Person_Children_all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Person_Children_all_idx&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX Person_Person_Children_all_idx ON Person_Person_Children </div><div class="line">(Person1,Person2)&#39;)</div><div class="line">CREATE INDEX _fe1eabc4d6da9afbc562dc04052d972d ON Person_Person_Children </div><div class="line">(Person1)</div><div class="line">DELETE FROM schema WHERE name=&#39;_fe1eabc4d6da9afbc562dc04052d972d&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_fe1eabc4d6da9afbc562dc04052d972d&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _fe1eabc4d6da9afbc562dc04052d972d ON Person_Person_Children (Person1)&#39;)</div><div class="line">CREATE INDEX _81a57a61bb98b640be6eb729bb5b57f9 ON Person_Person_Children </div><div class="line">(Person2)</div><div class="line">DELETE FROM schema WHERE name=&#39;_81a57a61bb98b640be6eb729bb5b57f9&#39; and </div><div class="line">type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;_81a57a61bb98b640be6eb729bb5b57f9&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX _81a57a61bb98b640be6eb729bb5b57f9 ON Person_Person_Children (Person2)&#39;)</div><div class="line">CREATE TABLE Person_Role_Roles (Person1 INTEGER,Role2 INTEGER UNIQUE)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Role_Roles&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Role_Roles&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">Person_Role_Roles (Person1 INTEGER,Role2 INTEGER UNIQUE)&#39;)</div><div class="line">CREATE INDEX Person_Role_Roles_all_idx ON Person_Role_Roles (Person1,Role2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Role_Roles_all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Role_Roles_all_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Person_Role_Roles_all_idx ON Person_Role_Roles (Person1,Role2)&#39;)</div><div class="line">CREATE INDEX Person_Role_Roles_person_idx ON Person_Role_Roles (Person1)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Role_Roles_person_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Role_Roles_person_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Person_Role_Roles_person_idx ON Person_Role_Roles (Person1)&#39;)</div><div class="line">CREATE INDEX Person_Role_Roles_role_idx ON Person_Role_Roles (Role2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Person_Role_Roles_role_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Person_Role_Roles_role_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Person_Role_Roles_role_idx ON Person_Role_Roles (Role2)&#39;)</div><div class="line">CREATE TABLE School_Student_ (School1 INTEGER,Student2 INTEGER UNIQUE)</div><div class="line">DELETE FROM schema WHERE name=&#39;School_Student_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;School_Student_&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">School_Student_ (School1 INTEGER,Student2 INTEGER UNIQUE)&#39;)</div><div class="line">CREATE INDEX School_Student__all_idx ON School_Student_ (School1,Student2)</div><div class="line">DELETE FROM schema WHERE name=&#39;School_Student__all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;School_Student__all_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">School_Student__all_idx ON School_Student_ (School1,Student2)&#39;)</div><div class="line">CREATE INDEX School_Student__school_idx ON School_Student_ (School1)</div><div class="line">DELETE FROM schema WHERE name=&#39;School_Student__school_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;School_Student__school_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">School_Student__school_idx ON School_Student_ (School1)&#39;)</div><div class="line">CREATE INDEX School_Student__student_idx ON School_Student_ (Student2)</div><div class="line">DELETE FROM schema WHERE name=&#39;School_Student__student_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;School_Student__student_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">School_Student__student_idx ON School_Student_ (Student2)&#39;)</div><div class="line">CREATE TABLE Employee_Office_ (Employee1 INTEGER,Office2 INTEGER)</div><div class="line">DELETE FROM schema WHERE name=&#39;Employee_Office_&#39; and type=&#39;table&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Employee_Office_&#39;,&#39;table&#39;,&#39;CREATE TABLE </div><div class="line">Employee_Office_ (Employee1 INTEGER,Office2 INTEGER)&#39;)</div><div class="line">CREATE INDEX Employee_Office__all_idx ON Employee_Office_ (Employee1,Office2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Employee_Office__all_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Employee_Office__all_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Employee_Office__all_idx ON Employee_Office_ (Employee1,Office2)&#39;)</div><div class="line">CREATE INDEX Employee_Office__employee_idx ON Employee_Office_ (Employee1)</div><div class="line">DELETE FROM schema WHERE name=&#39;Employee_Office__employee_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Employee_Office__employee_idx&#39;,&#39;index&#39;,&#39;CREATE </div><div class="line">INDEX Employee_Office__employee_idx ON Employee_Office_ (Employee1)&#39;)</div><div class="line">CREATE INDEX Employee_Office__office_idx ON Employee_Office_ (Office2)</div><div class="line">DELETE FROM schema WHERE name=&#39;Employee_Office__office_idx&#39; and type=&#39;index&#39;</div><div class="line">INSERT INTO schema VALUES (&#39;Employee_Office__office_idx&#39;,&#39;index&#39;,&#39;CREATE INDEX </div><div class="line">Employee_Office__office_idx ON Employee_Office_ (Office2)&#39;)</div><div class="line">INSERT INTO Person_ (id_,type_,name_,age_,sex_) VALUES </div><div class="line">(NULL,&#39;Person&#39;,&#39;Jeff&#39;,&#39;32&#39;,&#39;0&#39;);</div><div class="line">INSERT INTO Person_ (id_,type_,name_,age_,sex_) VALUES </div><div class="line">(NULL,&#39;Person&#39;,&#39;Jill&#39;,&#39;33&#39;,&#39;1&#39;);</div><div class="line">INSERT INTO Person_ (id_,type_,name_,age_,sex_) VALUES </div><div class="line">(NULL,&#39;Person&#39;,&#39;Jack&#39;,&#39;15&#39;,&#39;0&#39;);</div><div class="line">INSERT INTO Person_ (id_,type_,name_,age_,sex_) VALUES </div><div class="line">(NULL,&#39;Person&#39;,&#39;Jess&#39;,&#39;15&#39;,&#39;1&#39;);</div><div class="line">INSERT INTO Person_Person_Children (Person1,Person2) VALUES (&#39;1&#39;,&#39;3&#39;)</div><div class="line">INSERT INTO Person_Person_Children (Person1,Person2) VALUES (&#39;2&#39;,&#39;3&#39;)</div><div class="line">INSERT INTO Person_Person_Children (Person1,Person2) VALUES (&#39;2&#39;,&#39;4&#39;)</div><div class="line">INSERT INTO Person_Person_Father (Person1,Person2) VALUES (&#39;3&#39;,&#39;1&#39;)</div><div class="line">INSERT INTO Person_Person_Mother (Person1,Person2) VALUES (&#39;3&#39;,&#39;2&#39;)</div><div class="line">INSERT INTO Person_Person_Mother (Person1,Person2) VALUES (&#39;2&#39;,&#39;2&#39;)</div><div class="line">INSERT INTO Person_Person_Siblings (Person1,Person2) VALUES (&#39;3&#39;,&#39;2&#39;)</div><div class="line">INSERT INTO Person_Person_Siblings (Person1,Person2) VALUES (&#39;2&#39;,&#39;3&#39;)</div><div class="line">INSERT INTO Role_ (id_,type_) values (NULL,&#39;Employee&#39;);</div><div class="line">INSERT INTO Employee_ (id_) values (1);</div><div class="line">INSERT INTO Person_Role_Roles (Person1,Role2) VALUES (&#39;1&#39;,&#39;1&#39;)</div><div class="line">INSERT INTO Employee_Office_ (Employee1,Office2) VALUES (&#39;1&#39;,&#39;1&#39;)</div><div class="line">INSERT INTO Role_ (id_,type_) values (NULL,&#39;Student&#39;);</div><div class="line">INSERT INTO Student_ (id_) values (2);</div><div class="line">INSERT INTO Role_ (id_,type_) values (NULL,&#39;Student&#39;);</div><div class="line">INSERT INTO Student_ (id_) values (3);</div><div class="line">INSERT INTO School_ (id_,type_) values (NULL, &#39;School&#39;);</div><div class="line">INSERT INTO Office_ (id_,type_) values (NULL, &#39;School&#39;);</div><div class="line">INSERT INTO Person_Role_Roles (Person1,Role2) VALUES (&#39;3&#39;,&#39;2&#39;)</div><div class="line">INSERT INTO Person_Role_Roles (Person1,Role2) VALUES (&#39;2&#39;,&#39;3&#39;)</div><div class="line">INSERT INTO School_Student_ (School1,Student2) VALUES (&#39;1&#39;,&#39;2&#39;)</div><div class="line">INSERT INTO School_Student_ (School1,Student2) VALUES (&#39;1&#39;,&#39;3&#39;)</div><div class="line">SELECT count(*) FROM Person_</div><div class="line">SELECT Person_.id_,Person_.type_,Person_.name_,Person_.age_,Person_.sex_ FROM </div><div class="line">Person_ ORDER BY Person_.age_</div><div class="line">SELECT Person_.id_,Person_.type_,Person_.name_,Person_.age_,Person_.sex_ FROM </div><div class="line">Person_ WHERE Person_.id_ in (SELECT Person_.id_ FROM Person_ WHERE Person_.id_ </div><div class="line">in (SELECT Person_Person_Children.Person2 FROM Person_Person_Children WHERE </div><div class="line">Person_Person_Children.Person1 = &#39;1&#39;) INTERSECT SELECT Person_.id_ FROM Person_ </div><div class="line">WHERE Person_.id_ in (SELECT Person_Person_Children.Person2 FROM </div><div class="line">Person_Person_Children WHERE Person_Person_Children.Person1 = &#39;2&#39;))</div><div class="line">SELECT Person_.id_,Person_.type_,Person_.name_,Person_.age_,Person_.sex_ FROM </div><div class="line">Person_ WHERE Person_.id_ = &#39;100&#39;</div><div class="line">DROP TABLE schema</div><div class="line">DROP TABLE Person_</div><div class="line">DROP TABLE Role_</div><div class="line">DROP TABLE Student_</div><div class="line">DROP TABLE Employee_</div><div class="line">DROP TABLE School_</div><div class="line">DROP TABLE Office_</div><div class="line">DROP TABLE Person_Person_Mother</div><div class="line">DROP TABLE Person_Person_Father</div><div class="line">DROP TABLE Person_Person_Siblings</div><div class="line">DROP TABLE Person_Person_Children</div><div class="line">DROP TABLE Person_Role_Roles</div><div class="line">DROP TABLE School_Student_</div><div class="line">DROP TABLE Employee_Office_</div></div><!-- fragment --> <hr/>
<p> By Tero Laitinen <a href="#" onclick="location.href='mai'+'lto:'+'ter'+'o.'+'lai'+'ti'+'nen'+'@i'+'ki.'+'fi'; return false;">tero.<span style="display: none;">.nosp@m.</span>lait<span style="display: none;">.nosp@m.</span>inen@<span style="display: none;">.nosp@m.</span>iki.<span style="display: none;">.nosp@m.</span>fi</a> </p>
</div></div><!-- contents -->
<hr />
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=113304&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>
