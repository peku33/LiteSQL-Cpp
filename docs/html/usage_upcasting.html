<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LiteSQL: Upcasting and Virtual Methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteSQL
   &#160;<span id="projectnumber">0.3.17</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Upcasting and Virtual Methods </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In order to support virtual methods a Persistent object must be upcasted to correct type before calling virtual method.</p>
<p>upcast will return an auto_ptr which holds a pointer to an object of correct type.</p>
<p>upcastCopy is similar to upcast. It does not select an object of correct type from database but just constructs it in memory. Note that constructed object does not have all of its fields. This method is suitable when virtual method to be called does not need any special fields.</p>
<p>An example of upcast: </p><div class="fragment"><div class="line">Playable pl = select&lt;Playable&gt;(db).one();</div><div class="line">pl.upcast()-&gt;play();</div></div><!-- fragment --><p>An another example of upcast: </p><div class="fragment"><div class="line">Playable pl = select&lt;Playable&gt;(db).one();</div><div class="line">auto_ptr&lt;Playable&gt; uc = pl.upcast();</div><div class="line">cout &lt;&lt; <span class="stringliteral">&quot;Playing &quot;</span> &lt;&lt; uc-&gt;name &lt;&lt; endl;</div><div class="line">uc-&gt;play();</div></div><!-- fragment --><p>An example of upcastCopy: </p><div class="fragment"><div class="line">Playable pl = select&lt;Playable&gt;(db).one();</div><div class="line">pl.upcastCopy()-&gt;makeLogEntry(log);</div></div><!-- fragment --> </div></div><!-- contents -->
<hr />
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=113304&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>
